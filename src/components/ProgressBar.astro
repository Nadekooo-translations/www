---
const { progress, innerText, ...rest } = Astro.props;
---

<div class="progressbar" role="progressbar" {...rest}>
  <div class="front" style={{ width: `${progress}%` }}>
    <span class="inner-text"><slot /></span>
  </div>
</div>

<style lang="scss">
  @use "../styles/_colors.scss";

  .progressbar {
    border-radius: 1em;
    background-color: colors.$stone-800;
    width: 100%;
    height: 1em;
	font-size: 17pt;

    .front {
      border-radius: 1em;
      background-color: colors.$lime-800;
      height: 100%;
      min-width: 1em;

      animation: grow 2s cubic-bezier(0.22, 0.61, 0.36, 1);

      .inner-text {
        font-size: 0.7em;
        vertical-align: super;
        margin-left: 0.2em;
      }
    }
  }

  @keyframes grow {
    0% {
      width: 0%;
    }
    40% {
      width: 0%;
    }
    100% {
    }
  }
</style>
